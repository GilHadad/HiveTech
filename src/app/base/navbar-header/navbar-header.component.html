<nav class="navbar navbar-expand-md navbar-dark cf-nav-header">
  <a class="navbar-brand" href="#">{{brand}}</a>
  <div class="collapse navbar-collapse" id="navbarsExampleDefault">
    <ul class="navbar-nav mr-auto">
        <a class="navbar-brand" routerLink="/posts" routerLinkActive='active' >Posts</a>
    </ul>
    <form class="form-inline my-2 my-lg-0">
      <div *ngIf="auth.user | async as user">
        <div class="user-panel">
          Welcome: {{ user.displayName }}


          <button mat-icon-button [matMenuTriggerFor]="menu">
            <mat-icon>more_vert</mat-icon>
          </button>
          <mat-menu #menu="matMenu">
            <button mat-menu-item>
              <i class="material-icons">account_circle</i>
              <span>Profile</span>
            </button>

            <button mat-menu-item (click)="auth.signOut()">
              <i class="material-icons">reply</i>
              <span>Log out</span>
            </button>
          </mat-menu>

<!-- 
          <button (click)="auth.signOut()">Logout</button> -->
        </div>
      </div>
    </form>
  </div>
</nav>

<div *ngIf="auth.user | async; then authenticated else guest"></div>
<ng-template #authenticated></ng-template>
<ng-template #guest>
  <nav class="navbar navbar-expand-md cf-nav-sub">
    <div class="container">


      <div class="collapse navbar-collapse" id="navbarsExampleDefault">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item nav-link">
            <button class="btn btn-sm connect-btn" (click)="auth.googleLogin()">
              <i class="fa fa-google"></i> Connect Google
            </button>
          </li>
          <li class="nav-item nav-link">Hi guest, you can sign in with your Google accuont</li>

        </ul>
        <form class="form-inline my-2 my-lg-0">


        </form>
      </div>
    </div>
  </nav>

</ng-template>